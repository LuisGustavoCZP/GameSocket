<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo Multiplayer</title>
    <style>
        #screen {
            border: 10px solid #CCC;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            image-rendering: -moz-crisp-edges;
            width: 400px;
            height: 400px;
        }
    </style>
</head>
<body>
    <canvas id="screen" width="10" height="10"></canvas>
    <h4>Points: <span id="points">0</span></h4>
    <script type="module" src="index.js">
        import keyboardListener from "./keyboardListener.js";
        import game from "./game.js";
        import createGameRender from "./gameRender.js"

        const gameRender = createGameRender(game);

        game.addPlayer({id:'p1', x:1, y:1});
        game.selectPlayer({id:'p1'});
        game.addFruit({id:'f1', x:4, y:4, points:50});

        keyboardListener.subscribe((command) => 
        {
            game.movePlayer({ 
                id:game.state.current, 
                keyPressed:command.keyPressed 
            });
        });
    </script>
</body>
</html>